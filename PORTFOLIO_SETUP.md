# Настройка системы портфолио

## Описание

Система портфолио позволяет администраторам загружать фотографии работ, которые будут отображаться на странице "Примеры работ" для всех посетителей сайта.

## Установка и запуск

### 1. Установка зависимостей

```bash
npm install
```

### 2. Запуск сервера

```bash
npm start
```

или

```bash
node server.js
```

Сервер запустится на порту 3000 (http://localhost:3000)

### 3. Доступ к сайту

- Главная страница: http://localhost:3000
- Страница портфолио: http://localhost:3000/pages/portfolio.html
- API портфолио: http://localhost:3000/api/portfolio-photos.js

## Функциональность

### Для администраторов

1. **Загрузка фотографий**:
   - Войдите в админ панель (кнопка с короной)
   - Нажмите "Добавить фотографии работ"
   - Выберите категорию (Парикмахерские услуги / Услуги маникюра)
   - Выберите фотографии из галереи или сделайте новые снимки
   - Нажмите "Загрузить фотографии"

2. **Управление фотографиями**:
   - Все фотографии сохраняются на сервере
   - Доступны всем посетителям сайта
   - Автоматическая синхронизация

### Для посетителей

1. **Просмотр портфолио**:
   - Перейдите на страницу "Примеры работ"
   - Используйте бегущую строку для фильтрации
   - Просматривайте слайдшоу
   - Кликайте на фотографии для увеличения

2. **Бегущая строка**:
   - Автоматическое движение в обе стороны
   - Возможность свайпа для ручного управления
   - Плавные анимации

## Структура файлов

```
SvetSalonPro/
├── server.js                    # Основной сервер
├── package.json                 # Зависимости проекта
├── index.html                   # Главная страница
├── pages/
│   ├── portfolio.html           # Страница портфолио
│   ├── account.html             # Личный кабинет
│   └── api/
│       ├── portfolio-photos.js  # API для портфолио
│       └── portfolio-photos.json # База данных фотографий
└── images/                      # Статические изображения
```

## API Endpoints

### GET /api/portfolio-photos.js
Получение всех фотографий портфолио

**Ответ:**
```json
{
  "hair": [
    {
      "id": 1234567890,
      "src": "data:image/jpeg;base64,...",
      "category": "hair",
      "uploadedAt": "2024-01-01T12:00:00.000Z",
      "fileName": "photo1.jpg",
      "description": ""
    }
  ],
  "manicure": [...]
}
```

### POST /api/portfolio-photos.js
Добавление новой фотографии

**Тело запроса:**
```json
{
  "category": "hair",
  "src": "data:image/jpeg;base64,...",
  "fileName": "photo.jpg",
  "description": "Описание фотографии"
}
```

### PUT /api/portfolio-photos.js
Обновление фотографии

**Тело запроса:**
```json
{
  "photoId": 1234567890,
  "category": "manicure",
  "description": "Новое описание"
}
```

### DELETE /api/portfolio-photos.js?id=1234567890
Удаление фотографии

## Особенности

### Бегущая строка
- Автоматическое движение в обе стороны
- Скорость: 2 пикселя за кадр
- Возможность свайпа для ручного управления
- Остановка автоматической прокрутки при взаимодействии

### Слайдшоу
- Автоматическое переключение каждые 4 секунды
- Остановка при наведении мыши
- Навигация стрелками и точками
- Плавные переходы

### Адаптивность
- Полная поддержка мобильных устройств
- Адаптивная сетка фотографий
- Оптимизированные размеры для разных экранов

## Устранение неполадок

### Проблема: Фотографии не загружаются
**Решение:**
1. Проверьте, что сервер запущен
2. Убедитесь, что у вас есть права администратора
3. Проверьте консоль браузера на ошибки

### Проблема: API возвращает ошибку 404
**Решение:**
1. Проверьте, что файл `pages/api/portfolio-photos.js` существует
2. Убедитесь, что сервер запущен на правильном порту
3. Проверьте URL в запросах

### Проблема: Фотографии не отображаются
**Решение:**
1. Проверьте, что файл `portfolio-photos.json` создан
2. Убедитесь, что фотографии загружены через админ панель
3. Проверьте консоль браузера на ошибки загрузки

## Безопасность

- API доступен только для авторизованных администраторов
- Валидация всех входящих данных
- Ограничение размера загружаемых файлов
- Проверка типов файлов

## Производительность

- Оптимизация изображений на клиенте
- Кэширование статических файлов
- Асинхронная загрузка фотографий
- Автоматическая синхронизация каждые 30 секунд
